##### script.onload
Основним помічником є подія load. Вона запускається після завантаження та виконання скрипта. Тож у onload ми можемо використовувати змінні скрипта, виконувати функції тощо.

##### script.onerror
Помилки, які виникають під час завантаження скрипта, можна відстежити за допомогою події error.
Зверніть увагу, що ми не можемо отримати відомості про помилку HTTP тут. Ми не знаємо, чи була це помилка 404 чи 500 чи щось інше.
Щоб відстежувати помилки скрипта, можна використовувати глобальний обробник window.onerror.


Події load та error також працюють для інших ресурсів, в основному для будь-якого ресурсу, який має зовнішній src.

Наприклад:

let img = document.createElement('img');
img.src = "https://js.cx/clipart/train.gif"; // (*)

img.onload = function() {
  alert(`Зображення завантажено, розмір ${img.width}x${img.height}`);
};

img.onerror = function() {
  alert("Під час завантаження зображення сталася помилка");
};


Більшість ресурсів починають завантажуватися, коли вони додаються до документа. Але <img> є винятком. Він починає завантажуватися, коли отримує src (*).
Для <iframe> подія iframe.onload запускається після завершення завантаження iframe, як для успішного завантаження, так і в разі помилки.

##### Політика кросдоменних запитів
Існує правило: скрипти з одного сайту не можуть отримати доступ до вмісту іншого сайту. Отже, напр. скрипт на https://facebook.com не може прочитати поштову скриньку користувача на https://gmail.com.

Деталі можуть відрізнятися залежно від браузера, але ідея одна: будь-яка інформація про внутрішні елементи скрипта, включаючи трасування стеку помилок, прихована. Саме тому, що він з іншого домену.

Подібна політика кросдоменних запитів (CORS) застосовується і для інших типів ресурсів.

Щоб дозволити доступ із різних джерел, тег <script> повинен мати атрибут crossorigin, а також віддалений сервер повинен надавати спеціальні заголовки.

Існує три рівні кросдоменного доступу:

- Немає атрибута crossorigin – доступ заборонено.
- crossorigin="anonymous" – доступ дозволений, якщо сервер відповідає із заголовком Access-Control-Allow-Origin з * або нашим джерелом. Браузер не надсилає інформацію про авторизацію та файли cookie на віддалений сервер.
- crossorigin="use-credentials" – доступ дозволений, якщо сервер надсилає назад заголовок Access-Control-Allow-Origin з нашим походженням та Access-Control-Allow-Credentials: true. Браузер надсилає інформацію про авторизацію та файли cookie на віддалений сервер.

<script crossorigin="anonymous" src="https://cors.javascript.info/article/onload-onerror/crossorigin/error.js"></script>


більше про fetch та CORS : https://uk.javascript.info/fetch-crossorigin
більше про кукі: https://uk.javascript.info/cookie

Зображення <img>, зовнішні стилі, скрипти та інші ресурси забезпечують події load та error для відстеження їх завантаження:

load спрацьовує при успішному завантаженні,
error спрацьовує при невдалому завантаженні.
Єдиним винятком є <iframe>: з історичних причин він завжди запускає load для будь-якого завершення завантаження, навіть якщо сторінка не знайдена.

