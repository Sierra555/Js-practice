#### Клавіатура: keydown та keyup

Властивість key об’єкта події дозволяє отримати символ, а властивість code об’єкта події дозволяє отримати “фізичний код клавіші”.


Клавіша	            event.key	         event.code
Z	             z (нижній регістр)      	KeyZ
Shift+Z	         Z (верхній регістр)	    KeyZ
я                       я                   KeyZ


- Клавіші літер мають коди "Key<літера>": "KeyA", "KeyB" і т.д.
- Цифрові клавіші мають коди: "Digit<цифра>": "Digit0", "Digit1" і т.д.
- Спеціальні клавіші кодуються своїми назвами: "Enter", "Backspace", "Tab" тощо.

більше тут: https://www.w3.org/TR/uievents-code/

Перевірка на кшталт event.code=="keyZ" не працюватиме: перша літера "Key" має бути у верхньому регістрі.

Зверніть увагу, що event.code точно визначає, яка клавіша натиснута. Наприклад, більшість клавіатур мають дві клавіші Shift: ліворуч і праворуч. event.code говорить нам, яка саме була натиснута, а event.key відповідає за “значення” клавіші: яка це саме клавіша (це “Shift”).

<script>
document.addEventListener('keydown', (event) {
  if (event.code == 'KeyZ' && (event.ctrlKey || event.metaKey)) {
    alert('Скасувати!')
  }
});
</script>

Якщо клавіша натискається досить довго, вона починає автоматично повторюватися: keydown запускається знову і знову, а потім, коли вона відпускається, ми нарешті отримуємо keyup. Таким чином, це нормально мати багато keydown і один keyup.

Для подій, ініційованих автоповтором, об’єкт події має властивість event.repeat, встановлену на true.

<script>
function checkPhoneKey(key) {
  return (key >= '0' && key <= '9') ||
    ['+','(',')','-','ArrowLeft','ArrowRight','Delete','Backspace'].includes(key);
}
</script>
<input onkeydown="return checkPhoneKey(event.key)" placeholder="Номер телефону, будь ласка" type="tel">


Альтернативним підходом було б відстежувати подію oninput – вона запускається після будь-якої модифікації. Там ми можемо перевірити новий input.value та змінити його/виділити <input>, якщо він недійсний. Або ми можемо використовувати обидва обробники подій разом.

Натискання клавіші завжди генерує подію на клавіатурі, будь то клавіші-символи або спеціальні клавіші, як-от Shift або Ctrl тощо. Єдиним винятком є клавіша Fn, яка іноді зустрічається на клавіатурі ноутбука. Для неї немає жодних подій клавіатури, оскільки вони часто реалізуються на нижчому рівні, ніж ОС.